<div class="container" style="margin-top: 70px;">
    <h1 class="h1 text-center">Modifier un besoin</h1>
    <div class="mainWrapper">
      <div class="align-content-center card-body space">
        Vous pouvez modifier le besoin si vous avez oublié des détails ou changer la catégorie.
      </div>
      <form [formGroup]="needForm" (ngSubmit)="modifyNeed(needForm.value)" class="form-group">
        <div class="form">
          <div class="form-group">
            <label for="inputCategory">Choisissez une nouvelle catégorie si besoin</label>
            <select class="form-control" 
            formControlName="inputCategory"
            id="inputCategory">
                <option *ngFor="let category of categories; let i = index" [value]="categories[i].type">
                   {{ categories[i].type }} - {{ categories[i].description }}
                </option>
            </select>
          </div>
          <div class="form-group">
            <label for="inputTitle">Titre du besoin</label>
            <input type="text" class="form-control" id="inputTitle" 
            formControlName="inputTitle"
            placeholder="{{selectedNeed.title}}">
          </div>
          <div class="form-group">
            <label for="inputDesc">Description du besoin</label>
            <textarea type="text" class="form-control" id="inputDesc" 
            formControlName="inputDesc"
            placeholder="{{selectedNeed.description}}"></textarea>
          </div>
        </div>
        <button type="submit" class="btn btn-primary" style="margin: 0px 5px 0px 5px;">Modifier ce besoin</button>
      </form>

      <form [formGroup]="deleteForm" (ngSubmit)="deleteNeed()" class="form-group">
        <div class="form">
          <div class="form-group">
            <div class="row justify-content-start">
              <div class="col-3">
                <button class="btn btn-danger" style="margin: 0px 5px 0px 5px;" >Supprimer ce besoin</button>
              </div>
              <div class="col-4 uk-vertical-align-middle">
                <input type="checkbox" formControlName="deleteNeed" id="deleteNeed" class="form-check-input"
                [ngClass]="{'is-invalid': submittedDelete && g.deleteNeed.errors}"/>
                <label for="deleteNeed" class="form-check-label">Ce besoin sera supprimé définitivement</label>
                <div *ngIf="submittedDelete && g.deleteNeed.errors" class="invalid-feedback">Cochez la case pour valider la suppression</div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
</div>